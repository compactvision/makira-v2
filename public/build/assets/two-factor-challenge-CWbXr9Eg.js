import{r as w,u as A,j as t,H as F}from"./app-DcO9B_4T.js";import{c as R}from"./createLucideIcon-BjdxXtgX.js";import{I as S}from"./input-error-Q-Z_lKsZ.js";import{B as O}from"./button-BRDfUn3M.js";import{I as P}from"./input-B8Gh_Do1.js";import{I as k,K as H,O as E,a as L,b as B}from"./use-two-factor-auth-B6vkDMFp.js";import{A as D}from"./auth-layout-D0CWobCm.js";import{s as G}from"./index-ikzcNs2d.js";/* empty css            */import"./app-logo-icon-CG-gaNiA.js";function Y(){const e=R.c(35),[o,N]=w.useState(!1);let j;e:{if(o){let _;e[0]===Symbol.for("react.memo_cache_sentinel")?(_={title:"Recovery Code",description:"Please confirm access to your account by entering one of your emergency recovery codes.",toggleText:"login using an authentication code"},e[0]=_):_=e[0],j=_;break e}let r;e[1]===Symbol.for("react.memo_cache_sentinel")?(r={title:"Authentication Code",description:"Enter the authentication code provided by your authenticator application.",toggleText:"login using a recovery code"},e[1]=r):r=e[1],j=r}const c=j;let f;e[2]===Symbol.for("react.memo_cache_sentinel")?(f={code:"",recovery_code:""},e[2]=f):f=e[2];const{data:n,setData:s,post:b,processing:i,errors:a,clearErrors:T,reset:p}=A(f);let y;e[3]!==b||e[4]!==p||e[5]!==o?(y=r=>{r.preventDefault(),b(G("two-factor.login"),{onFinish:()=>{p(o?"recovery_code":"code")}})},e[3]=b,e[4]=p,e[5]=o,e[6]=y):y=e[6];const I=y;let x;e[7]!==T||e[8]!==s||e[9]!==o?(x=()=>{N(!o),T(),s({code:"",recovery_code:""})},e[7]=T,e[8]=s,e[9]=o,e[10]=x):x=e[10];const C=x;let h;e[11]===Symbol.for("react.memo_cache_sentinel")?(h=t.jsx(F,{title:"Two-Factor Authentication"}),e[11]=h):h=e[11];let l;e[12]!==n.code||e[13]!==n.recovery_code||e[14]!==a.code||e[15]!==a.recovery_code||e[16]!==i||e[17]!==s||e[18]!==o?(l=o?t.jsxs(t.Fragment,{children:[t.jsx(P,{name:"recovery_code",type:"text",placeholder:"Enter recovery code",value:n.recovery_code,onChange:r=>s("recovery_code",r.target.value),autoFocus:o,required:!0}),t.jsx(S,{message:a.recovery_code})]}):t.jsxs("div",{className:"flex flex-col items-center justify-center space-y-3 text-center",children:[t.jsx("div",{className:"flex w-full items-center justify-center",children:t.jsx(k,{name:"code",maxLength:E,value:n.code,onChange:r=>s("code",r),disabled:i,pattern:H,children:t.jsx(L,{children:Array.from({length:E},K)})})}),t.jsx(S,{message:a.code})]}),e[12]=n.code,e[13]=n.recovery_code,e[14]=a.code,e[15]=a.recovery_code,e[16]=i,e[17]=s,e[18]=o,e[19]=l):l=e[19];let d;e[20]!==i?(d=t.jsx(O,{type:"submit",className:"w-full",disabled:i,children:"Continue"}),e[20]=i,e[21]=d):d=e[21];let g;e[22]===Symbol.for("react.memo_cache_sentinel")?(g=t.jsx("span",{children:"or you can "}),e[22]=g):g=e[22];let u;e[23]!==c.toggleText||e[24]!==C?(u=t.jsxs("div",{className:"text-center text-sm text-muted-foreground",children:[g,t.jsx("button",{type:"button",className:"cursor-pointer text-foreground underline decoration-neutral-300 underline-offset-4 transition-colors duration-300 ease-out hover:decoration-current! dark:decoration-neutral-500",onClick:C,children:c.toggleText})]}),e[23]=c.toggleText,e[24]=C,e[25]=u):u=e[25];let m;e[26]!==I||e[27]!==l||e[28]!==d||e[29]!==u?(m=t.jsx("div",{className:"space-y-6",children:t.jsxs("form",{onSubmit:I,className:"space-y-4",children:[l,d,u]})}),e[26]=I,e[27]=l,e[28]=d,e[29]=u,e[30]=m):m=e[30];let v;return e[31]!==c.description||e[32]!==c.title||e[33]!==m?(v=t.jsxs(D,{title:c.title,description:c.description,children:[h,m]}),e[31]=c.description,e[32]=c.title,e[33]=m,e[34]=v):v=e[34],v}function K(e,o){return t.jsx(B,{index:o},o)}export{Y as default};
